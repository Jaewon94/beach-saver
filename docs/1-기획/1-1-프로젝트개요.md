# 1-1 프로젝트 개요

## 1. 목적

- 부산 해안(부산시)에서 해양쓰레기 수거 및 데이터 기반 관리 효율화 (현재는 부산시만 시범/운영)
- 현장 작업자와 관리자의 실질적 업무 부담 경감 및 정책 지원
- 전국(타 지자체 등)으로 확장 가능한 구조/비전 명확히 내재화

## 2. 배경, 관리 체계 및 협력 구조

### 가. 배경 및 기술/운영 원칙

- 해양쓰레기 문제의 심각성, 기존 관리 방식의 한계(수기/비효율 등)를 극복하고 데이터 기반의 효율적인 해양 환경 관리를 목표로 합니다.
- **현재는 부산시(부산 해안)에서만 시범/운영 중이며, 향후 전국 확장(타 지자체, 민간 등) 가능하도록 모든 시스템 구성 요소(기술, 정책, 데이터 구조 등)를 설계합니다.**
- **역할별 UX/보안 최적화**를 위해 관리자 페이지(웹)는 **Next.js**로, 작업자 앱(모바일)은 **React Native**로 각각 독립 개발하여 완전 분리 운영합니다.
  - PWA(Progressive Web App)는 별도 도입하지 않으며, 역할별 앱/웹 완전 분리를 통해 보안·권한·운영 효율성을 극대화합니다.
- JPA 기반 DB 자동화, Docker를 활용한 개발/운영 환경 통일, 그리고 데이터 기반 정책 지원 및 AI 예측 기능 확장을 지향합니다.

### 나. 사용자 역할 및 권한 체계 (상세 내용은 상위 "Beach-Saver 문서화 개요"의 해당 표 참조)

Beach-Saver 시스템의 모든 사용자는 아래와 같이 명확한 역할/권한/업무 기준에 따라 관리됩니다.

| 역할                 | 정의/자격                             | 주요 권한/업무                                          | 계정 생성/승인/전환 정책                              | 실무상 주의점/특이사항                                    |
| -------------------- | ------------------------------------- | ------------------------------------------------------- | ----------------------------------------------------- | --------------------------------------------------------- |
| PlatformAdmin        | 플랫폼 운영사(최고 관리자)            | 전체 조직/계정/정책/로그/통계 관리, 정책 변경           | 운영사에서 직접 생성/관리                             | 전국 확장, 정책/구조 변경, 전체 데이터 접근               |
| CityAdmin            | 시청 단위 관리자(예: 부산시청)        | 본인 시청 및 하위 구청/작업자 관리, 시청 단위 통계/감사 | PlatformAdmin이 생성/관리, 시청별 1명 이상            | 타 시청 데이터 접근 불가, 시청별 정책/실적 관리           |
| DistrictAdmin        | 구청 단위 관리자(예: 해운대구청)      | 본인 구청 및 하위 작업자 관리, 구청 단위 통계/감사      | CityAdmin이 생성/관리, 구청별 1명 이상                | 타 구청/시청 데이터 접근 불가, 구청별 실적/배정 관리      |
| 조사자(Investigator) | 행정기관/전문 인력(조사 담당)         | 현장 조사, 데이터 입력/수정                             | 관리자(구청) 직접 생성/배정, 시민 참여 불가           | 역할별 계정 분리, 시민은 조사자 역할 불가                 |
| 청소자(Cleaner)      | 정규(상시/계약) 또는 시민(자원봉사자) | 현장 청소, 데이터 입력/수정                             | 정규: 관리자 직접 생성/배정, 시민: 자가가입→승인→전환 | 시민은 자가가입→승인→청소자 전환만 가능, 역할별 계정 분리 |
| 수거자(Collector)    | 차량 필요, 업체/개인(구분/검증 필수)  | 수거/운반, 데이터 입력/수정                             | 관리자 직접 생성/검증(차량/업체/개인 구분 필수)       | 시민 참여 불가, 역할별 계정 분리, 차량/업체 검증 필수     |
| 자원봉사자(시민)     | 일반 시민(자가가입)                   | 청소 참여(승인 전 제한), 데이터 입력(승인 전 제한)      | 자가가입→임시계정→관리자 승인→청소자 전환             | 승인 전 제한, 조사자/수거자 역할 불가, 청소자만 전환 가능 |

- **핵심 계정 운영 원칙:**
  - **역할별 계정(아이디) 엄격 분리:** 한 사람이 여러 역할을 수행하려면 각 역할별 별도 계정으로 로그인해야 합니다. (통합 계정/역할 전환 UI는 보안 및 감사, 책임 명확화를 위해 도입하지 않음)
  - **시민(자원봉사자) 역할 제한:** 자가 가입한 시민은 '자원봉사자'로 시작하여 관리자 승인 후 '청소자' 역할로만 전환 가능하며, '조사자' 또는 '수거자' 역할은 부여받을 수 없습니다. 자원봉사자는 청소 업무 배정 전까지는 별도 활동/권한 없는 대기 상태입니다.
  - **수거자 자격 요건:** 차량 보유 및 관련 정보(업체/개인 구분 포함) 등록 및 관리자 검증이 필수입니다.

### 다. 협력 구조

- KIOST(한국해양과학기술원), 동아시아바다공동체 오션 등 전문 기관과 협력하여 부산 해안 파일럿 운영을 시작으로, 향후 전국 확장 및 민간/시민 참여형 지속가능 해양 관리 체계 구축을 목표로 합니다.

## 3. 주요 타겟/고객 및 핵심 가치

| 타겟                          | 핵심 가치/해결 문제                                                                            |
| ----------------------------- | ---------------------------------------------------------------------------------------------- |
| PlatformAdmin (플랫폼 운영사) | 전국 단위 플랫폼 운영/관리 효율화, 데이터 기반 정책 수립 지원, 서비스 확장 기반 마련           |
| CityAdmin (시청 관리자)       | 관할 구청 및 전체 작업 현황 통합 관리, 시 단위 정책 수립 및 성과 분석, 예산 효율화             |
| DistrictAdmin (구청 관리자)   | 관할 작업자(정규/시민) 관리 및 업무 배정 효율화, 실적 관리 및 보고 자동화, 현장 문제 신속 대응 |
| 작업자 (조사자/청소자/수거자) | 모바일 기반 업무보고 간소화(시간 단축), 명확한 업무 지침 및 실적 관리, 작업 편의성/안전성 증대 |
| 자원봉사자(시민)              | 해양 정화 활동 참여 기회 확대, 봉사활동 실적 인정, 환경 보호 기여 만족도 향상                  |
| 정책 담당자 (정부/지자체)     | 신뢰도 높은 데이터 기반 정책 수립 및 효과 분석, 해양 쓰레기 문제 해결을 위한 과학적 근거 확보  |
| 외부 협력 기관 (연구소 등)    | 표준화된 해양 환경 데이터 접근 및 공동 연구/활용 기회, 상호 협력 모델 구축                     |

## 4. 주요 기능/핵심 프로세스

### 가. 핵심 업무 흐름 (조사자 → 청소자 → 수거자)

1. **조사자(Investigator):** 해안 쓰레기 현황 조사 후, 조사 보고서 작성/제출 (집하장 정보 입력 없음).
2. **청소자(Cleaner, 팀 단위):** 조사 보고서 기반으로 청소 업무 수행 후, 팀 단위로 청소 보고서 작성 (팀장 일괄 확정). 청소 후 발생한 쓰레기를 임의의 집하장(수거 포인트)에 모으고, **별도의 '수거용 보고서'에 집하장 위치/사진/설명 등을 상세히 기록하여 제출** (청소 보고서에는 집하장 정보 입력 안 함).
3. **수거자(Collector):** 청소자가 제출한 '수거용 보고서'를 확인하여 지정된 집하장으로 이동, 수거 작업 후 각 집하장별 **'수거 완료' 처리** (완료 시 사진/위치/상태 등 자동/수동 기록).

### 나. 주요 기능 목록

- **계정 관리:** 역할별 계정 생성(단일/엑셀 대량 등록), 수정, 삭제, 승인(시민 자가 가입), 권한 관리, 모든 변경 이력 로그.
- **로그인:** 휴대폰 번호+인증번호 기반 로그인, 다중 역할 계정 보유 시 역할 선택 기능, 관리자 예외적 ID/PW 로그인.
- **보고서 관리 (모바일 앱 - 작업자용):**
  - 조사 보고서 작성 (조사자)
  - 청소 보고서 작성 (청소자 - 팀 단위)
  - **수거용 보고서 작성 (청소자 - 집하장 정보 기록)**
  - 수거 완료 처리 (수거자 - 집하장별 완료)
  - 공통: GPS/사진 자동 기록, 오프라인 임시 저장 및 자동 동기화.
- **관리자 기능 (웹 - 관리자용):**
  - 회원/작업자/팀 관리, 업무 배정 및 현황 모니터링.
  - 대시보드 기반 통계/분석 (기간별/위치별 수거 현황, 예측량, 주요 쓰레기 분포 등 시각화 - Chart.js, D3.js, Recharts 등 활용).
  - 지도 기반 실시간 경로/분포 시각화 (kakaomap API 등 활용).
  - 모든 통계/분석 데이터 엑셀 다운로드.
  - AI 기반 자원 배치 예측 및 분석 (확장 기능).
  - 보고서 PDF 자동 생성 및 이메일 발송 (확장 기능).
  - 현장 사진 AI 자동 분류 및 품질 점수화 (확장 기능).
- **공통 기능:**
  - 접근성(큰글씨/고대비 모드 등), 자동화된 API 문서화(restDocs 등).
  - 알림(Notifications): 계정 승인, 역할 변경, 업무 배정, 보고서 상태 변경 등 주요 이벤트 발생 시 앱 푸시/SMS/이메일 등 다양한 채널로 자동/수동 알림.
  - 팀 단위 처리 지원: 팀 생성/관리, 팀장/팀원 역할 분담, 팀 단위 보고 및 실적 관리.

## 5. 범위/비포함(엣지케이스 및 대응)

- **[포함]**
  - 부산 해안(부산시)에서의 시범/운영 (현장 작업자/관리자 역할 기반 데이터 수집, 보고, 분석 기능).
  - 정의된 사용자 역할(PlatformAdmin, CityAdmin, DistrictAdmin, 조사자, 청소자, 수거자, 자원봉사자)에 따른 기능 및 권한.
  - 조사-청소-수거로 이어지는 핵심 업무 흐름 및 관련 보고서 관리 (수거용 보고서 포함).
  - 팀 단위 업무 처리 및 실적 관리 지원.
- **[비포함]**
  - 실시간 IoT 센서 연동 (예: 쓰레기통 수위 감지 등).
  - 외부 시스템과의 실시간 자동 연계 (예: 타 행정 시스템).
  - (상기 항목들은 향후 전국 확장 또는 시스템 고도화 시 도입 검토)
- **[엣지케이스 및 대응]**
  - GPS 미수신: 수동 위치 입력 지원 또는 경고 후 기능 제한.
  - 사진 업로드 실패: 임시 저장 후 재시도 안내, 관리자 확인 기능.
  - 오프라인 작업: 데이터 임시 저장 후 온라인 시 자동 동기화, 동기화 실패 시 알림 및 수동 재시도.
  - 계정/권한 오류: 명확한 안내 메시지 및 관리자 문의 유도, 모든 시도 로그 기록.
  - 중복 보고/처리: 시스템 자동 감지 및 경고, 담당자(Claim) 지정 정책 적용.

## 6. 기대 효과(정량/정성)

- 수거/관리 효율성 N%↑, 보고서 작성 시간 30%↓, 관리 비용 연 20%↓ (예상치)
- 수거량 추이 예측 정확도 향상, 자원(인력/차량) 배치 최적화, 자연재해(태풍 등) 발생 시 신속 대응력 향상.
- 조사-청소-수거 데이터 연계를 통한 효율적 업무 경로 계획 및 성과 평가, 예방 대책 수립 용이.
- 시민 참여(자원봉사) 활성화 및 환경 보호 인식 제고, 기업/단체의 사회적 책임(ESG) 활동 지원 (예: 반려해변).
- 실시간 위치/GPS, 사진 등 현장 데이터의 체계적 수집·활용을 통한 데이터 기반 행정 및 정책 수립 지원.
- 노인 등 정보취약계층 작업자를 위한 접근성(큰글씨/고대비 모드, 간편 로그인 등) 강화.
- **현재는 부산시(부산 해안)에서만 시범/운영 중이나, 전국 확장 시 동일 구조/운영 방식 적용을 통해 위 효과를 전국적으로 확대 가능.**

## 7. 버전별 변화 및 개선점

| 구분      | v1 (초기)               | v2 (개선/확장)                                                                                                                                      |
| --------- | ----------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| 프론트    | 모바일(PWA)·PC(웹) 통합 | 관리자(Next.js 웹), 작업자(React Native 앱) 역할별 완전 분리, 각 환경 최적화                                                                        |
| 백엔드    | 모놀리식 구조 가능성    | MSA 고려 가능한 모듈형 설계 (초기는 모놀리식), JPA, Docker 표준화                                                                                   |
| DB        | 기본 관계형 DB          | RDS(MySQL) 표준, 데이터 이중화/백업 정책 명시, 전국 확장 고려한 스키마 설계                                                                         |
| 인증/권한 | 단순 계정/권한          | 역할 기반 계층적 권한 관리(Platform/City/District Admin, Worker 유형별, Citizen), 휴대폰+OTP 로그인, OAuth2/JWT 등 표준 인증 강화, 감사 로그 상세화 |
| 업무흐름  | 개별 보고 중심          | 조사→청소(팀)→수거용 보고서→수거 완료로 이어지는 명확한 업무 흐름 및 데이터 연계, 팀 단위 처리, Claim 정책 도입                                     |
| 테스트    | 수동/부분적             | TDD(테스트 주도 개발) 원칙 적용, 단위/통합 테스트 자동화, 테스트 커버리지 기준 도입                                                                 |
| 환경설정  | 단일 yml                | dev, prod 등 환경별 .yml 파일 분리, 환경변수 중앙 관리 강화                                                                                         |
| 설계      | 구현체 중심             | interface/구현체 분리, 도메인 주도 설계(DDD) 요소 도입 고려, 확장성·유지보수성 강화                                                                 |
| 접근성    | 기본                    | 큰글씨/고대비 모드 등 정보취약계층 접근성 기능 강화 (WCAG 기준 준수 목표)                                                                           |
| API 문서  | 수동/부분적             | restDocs 또는 Swagger 등 활용한 API 명세 자동화 및 공유 체계 구축                                                                                   |
| 배포      | 온프레미스/로컬         | Docker 기반 표준화, AWS(ECS/Fargate 등) 등 클라우드 환경 배포 및 CI/CD 자동화                                                                       |
| 확장성    | 지역적 제한             | **전국(다도시/다시청) 확장 가능한 조직/권한 구조, 데이터 분리, 표준화된 배포/운영 전략 사전 설계**                                                  |

## 8. 마이그레이션/이슈

- v1→v2 전환 시 기존 데이터(사용자, 보고서 등)의 신규 DB 스키마 및 역할/권한 체계로의 안전한 마이그레이션 전략 수립 필수.
- API 인터페이스 변경에 따른 클라이언트(앱/웹) 호환성 확보 및 점진적 업데이트 방안 마련.
- 레거시 코드/설계와 신규 구조(특히 역할 분리, 팀 단위 처리, 수거용 보고서 등)의 호환성 문제 발생 가능성에 대한 대비 및 점진적 이전(Strangler Fig 패턴 등) 또는 전면 재구축 결정 필요.
- 환경설정 분리 및 Docker 표준화에 따른 초기 운영 안정화.

## 9. 비전(확장)

- **현재는 부산시(부산 해안)에서만 시범/운영 중이나, 본 시스템의 성공적인 안착을 통해 정부-민간-시민이 함께 참여하고 데이터를 공유하는 전국 단위, 나아가 글로벌 해양 환경 관리 플랫폼으로 발전하는 것을 목표로 합니다.**
- 단순 해변 쓰레기 관리를 넘어, 수질 관리, 해양 생태계 모니터링, 불법 어업 감시 등 다양한 해양 환경 문제로 적용 범위를 확장하고, 도시 내 쓰레기 수거/관리 등 유사 환경 문제 해결 플랫폼으로도 발전 가능성을 타진합니다.
- 수집된 빅데이터와 AI 기술을 적극 활용하여, 쓰레기 발생 예측, 최적의 자원(인력/장비) 배분, 환경 정책 효과 분석 등 고도화된 데이터 기반 행정 서비스를 제공합니다.

## 10. 계정(아이디) 정책, 생성 방식 및 FAQ (상세 내용은 상위 "Beach-Saver 문서화 개요"의 해당 섹션 참조)

본 프로젝트의 모든 사용자 계정은 상위 "Beach-Saver 문서화 개요"에 정의된 **계정(아이디) 정책 및 생성 방식**과 **FAQ/운영 정책(휴대폰 번호 변경·공유·인증 보안)**을 따릅니다. 주요 내용은 다음과 같습니다:

- **작업자 계정 생성:** 원칙적으로 관리자(시청/구청)가 직접 생성 (단일/엑셀 대량 업로드 지원). 수거자는 차량/업체 정보 검증 필수.
- **역할별 계정 분리 UX:** 조사자/청소자/수거자 역할별 계정 엄격 분리 (통합 계정/역할 전환 UI 없음). 보안/감사/책임 명확화 목적.
- **시민(자원봉사자) 참여:** 자가 가입 후 임시 계정 생성, 관리자 승인 시 '청소자' 역할로 정식 전환. 조사자/수거자 역할은 불가.
- **ID 자동 생성:** `[구분코드]_[닉네임]_[역할]_[고유번호]` 형식, 닉네임 기반(PII 미포함), 고유번호로 유일성 보장.
- **로그인 방식:** "휴대폰 번호 + 인증번호(문자/음성)" 사용, 다중 역할 계정 시 역할 선택 UI 제공. ID/PW 직접 입력은 관리자 등 예외적 경우만 허용.
- **휴대폰 번호 관련 운영 정책:** 번호 변경, 공유/재할당/중복, 인증번호 보안 등 상세 지침 적용.

## 11. 전국 확장, 조직/권한, 알림, 팀 단위 처리 등 주요 운영 정책 (상세 내용은 상위 "Beach-Saver 문서화 개요"의 해당 섹션 참조)

본 프로젝트의 확장성, 조직 운영, 사용자 간 소통, 그리고 현장 업무 효율화를 위한 주요 운영 정책들은 상위 "Beach-Saver 문서화 개요" 문서에 상세히 정의되어 있으며, 그 핵심 원칙을 따릅니다. 주요 참조 정책은 다음과 같습니다:

- **전국 확장(다도시/다시청) 및 조직/권한 구조:** PlatformAdmin - CityAdmin - DistrictAdmin - Worker/Citizen으로 이어지는 계층 구조 및 역할별 권한 범위.
- **자원봉사자(시민) 관리 주체 정책:** 시청(최초 승인/역할 전환)과 구청(업무 배정/현장 관리)의 역할 분담.
- **알림(Notifications) 기능 정책 및 시나리오:** 주요 이벤트 발생 시 다양한 채널을 통한 자동/수동 알림.
- **업무 배정/진행 자동화 원칙:** 자동화 우선, 관리자 개입 최소화.
- **업무 배정 정책(실무/확장성 기준):** 역할별(조사자, 정규 청소자, 시민 자원봉사자, 수거자) 기본 배정 방식 및 자동화.
- **조사 결과 기반 청소 업무 배정 정책:** 정규 청소자 우선 배정 후 시민 자원봉사자 슬롯 운영.
- **중복 보고/처리 방지 및 담당자(Claim) 정책:** 동일 이슈에 대한 단일 담당자 지정.
- **팀 단위 처리 정책 및 실무 업무 흐름:** 팀 구성, 역할/책임, 공식 보고 프로세스, 실적/보상 분배, 예외 처리, DB 설계 포인트, 시나리오 예시 포함.

---

> **작성 가이드:**
>
> - 각 항목별로 실제 프로젝트 상황에 맞게 구체적으로 서술
> - 버전별 차이, 개선점, 마이그레이션 이슈 등은 표/리스트로 명확히 정리
> - 수치/사례/그래프 등 근거 자료 첨부 권장
> - 문서 내 용어 정의/참고 링크 추가 가능

> **상위 정책/정의/표/다이어그램은 반드시 [[README]]를 참조할 것.**
