# 1-4 기능명세

Beach-Saver 프로젝트의 실무 기준 핵심 기능 명세(Functional Specification) 표입니다.
(최신 "Beach-Saver 문서화 개요"(README) 및 관련 문서를 통합, 실제 설계/개발/테스트에 바로 활용 가능하게 재구성)

| ID     | 기능명                                 | 설명                                                                                                                               | 입력/출력(주요 필드)                                 | 예외/엣지케이스                                        | 우선순위 | 완료 조건/테스트 기준                                                                                                   | 관련 문서/유스케이스                                                                                                                                   |
| ------ | -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------- | ------------------------------------------------------ | -------- | --------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
| FR-1   | 계정 생성, 인증, 권한 관리 및 감사 기능    | 역할별 사용자 계정 생성/수정/삭제, 권한 관리, 휴대폰+인증번호 로그인(역할 선택), 모든 변경/접근 이력 감사 로그 기록. PII 안전 저장.                               | 계정정보, 권한, 역할, 휴대폰번호, 인증번호, 이력로그         | 이력 미기록, 권한 오류, 인증 실패, PII 유출                  | 상       | 모든 이벤트별 이력/감사 로그 기록, 역할 기반 접근 제어 정확성, 로그인 성공/실패 시나리오.                                         | "Beach-Saver 문서화 개요" (계정 정책, FAQ, 조직/권한 구조), "1-1 프로젝트 개요 (10. 계정 정책)", UC-SYS-01, UC-COMMON-01 |
| FR-2   | 시민(자원봉사자) 계정 승인 및 역할 전환 기능 | 시민 자가 가입('임시 계정')→CityAdmin 승인→'자원봉사자'에서 '청소자' 역할로 정식 전환. 승인 전 기능 제한. 조사자/수거자 역할 부여 불가.                       | 계정정보, 승인상태, 역할                               | 승인 누락, 역할 미전환, 부적격 역할 부여 시도                 | 상       | 승인/전환 이력 기록, 전환 후 권한 일치, 제한 기능 정상 작동.                                                                  | "Beach-Saver 문서화 개요" (계정 정책, 시민 관리, 조직/권한 구조), "1-1 프로젝트 개요 (10. 계정 정책)", UC_CITIZEN_01 |
| FR-3   | 관리자(City/District)의 작업자 관리 기능 | 관할 작업자(조사자/청소자/수거자/승인된 시민 청소자) 정보 등록(단일/엑셀)/수정/삭제, 업무 배정 및 상태 관리. 수거자 차량/업체 정보 검증.                      | 작업자정보, 차량정보, 업무내용, 배정상태, 엑셀 파일        | 중복 등록, 삭제 오류, 권한 없는 배정, 검증 실패             | 상       | 권한별 작업자 관리 범위 준수, 모든 관리 이력 로그 기록, 엑셀 업로드/다운로드 기능.                                          | UC_ADMIN_01, UC_TEAM_01 (팀 구성 시 작업자 정보 활용), "Beach-Saver 문서화 개요" (관리 체계, 역할 정책) |
| FR-4   | 팀 단위 업무 처리 지원 기능                | 팀 생성/구성(팀장/팀원), 팀 단위 업무 배정, 팀 공동 보고서(청소) 작성 및 팀장 최종 확정, 팀원별 기여 첨부, 실적/보상 분배 근거 기록, 팀 변경/해체 이력 관리.    | 팀ID, 팀장ID, 팀원ID, 역할, 기여도 데이터, 보고서 데이터     | 팀 구성 오류, 보고서 취합 오류, 실적 분배 로직 오류, 이력 미기록 | 상       | 팀장 최종 보고 권한 적용, 팀원 기여도 첨부/조회, 이력/권한/실적 분배 정확성, 팀원 이의제기 경로 작동.                        | "Beach-Saver 문서화 개요" (팀 단위 처리 정책), UC_TEAM_01, UC_WORKER_02                               |
| FR-5   | 정책 기반 업무 자동화 기능                 | 정기/반복 업무(조사/청소/수거) 자동 배정 규칙 설정 및 실행, 시민 자율 참여 자동 승인, 관리자 개입 최소화, 이중 승인 절차 지원, 자동화 이력 기록.             | 정책설정(규칙, 주기 등), 업무 데이터, 배정/승인 이력         | 자동화 로직 실패, 예외 상황 미처리, 알림 누락               | 중       | 자동화 성공률 99.9% 이상, 정의된 규칙 기반 정확한 자동 실행, 예외 발생 시 적절한 알림 및 수동 처리 연계.                  | "Beach-Saver 문서화 개요" (자동화 원칙, 업무 배정 정책), FR-13                                      |
| FR-6   | **조사 보고서** 작성 및 관리 기능          | 조사자가 현장 쓰레기 상황 조사 후, GPS/사진 등 현장 데이터를 포함한 조사 보고서를 작성하고 시스템에 제출. (집하장 정보 입력 없음)                               | 보고서ID, 조사자ID, 날짜, 위치(GPS), 사진, 조사내용, 해안명 | GPS 미수신, 사진 업로드 실패, 필수 항목 누락, 중복 보고 시도 | 상       | 필수 항목 입력 검증, GPS/사진 자동 기록 및 오류 처리, 보고서 저장/임시저장/제출/조회/수정(권한 내) 기능.                 | UC_WORKER_01, FR-7, FR-18 (중복 보고 방지)                                                    |
| FR-7   | **청소 보고서** 작성 및 관리 기능 (팀 단위)    | 청소자(팀)가 배정된 업무에 따라 청소 작업을 수행하고, 팀장이 취합하여 청소 보고서(팀원별 기여 포함)를 작성/제출. (집하장 정보 입력 없음)                           | 보고서ID, 팀ID, 팀장ID, 팀원 기여(사진/내용 등), 작업일시   | 팀원 데이터 누락, 팀장 확정 지연, 보고서 상태 불일치          | 상       | 팀원별 기여 첨부/조회, 팀장 최종 확정 기능, 보고서 저장/제출/조회.                                                           | UC_WORKER_02, FR-4, FR-7, FR-18                                                              |
| FR-8   | **수거용 보고서** 작성 및 관리 기능 (청소자)   | 청소자가 청소 작업 완료 후, 쓰레기를 모아둔 집하장(들)의 위치, 사진, 설명 등을 포함한 **수거용 보고서**를 별도로 작성하여 시스템에 제출.                       | 보고서ID, 청소자ID(또는 팀ID), 집하장정보(위치/사진/설명)  | 집하장 정보 누락/오류, 위치 부정확, 사진 미첨부             | 상       | 하나 이상의 집하장 정보 입력 필수, 각 집하장별 위치/사진 등록, 보고서 저장/제출/조회.                                      | UC_WORKER_03, FR-7, FR-18, "Beach-Saver 문서화 개요" (전체 업무 흐름)                     |
| FR-9   | **수거 완료** 처리 기능 (수거자)             | 수거자가 '수거용 보고서'를 기반으로 집하장의 쓰레기를 수거하고, 각 집하장별로 '수거 완료' 처리를 하며 관련 정보(사진, 상태 등)를 기록.                           | 수거용보고서ID, 집하장ID, 수거자ID, 완료일시, 완료사진, 상태 | 수거 정보 누락, 완료 처리 실패, 권한 없는 수거자 시도         | 상       | 수거자만 '수거 완료' 처리 가능, 완료 시 상태 변경 및 관련 정보 기록, 수거 이력 조회.                                        | UC_WORKER_04, FR-7, FR-18, "Beach-Saver 문서화 개요" (전체 업무 흐름)                     |
| FR-10  | 현장 데이터(GPS/사진) 자동 기록 및 관리 기능 | 모든 현장 보고서(조사/청소/수거용/수거완료) 작성 시 위치(GPS)/시간 자동 기록, 사진 첨부 기능 및 데이터 무결성 검증. GPS 오류/사진 미첨부 시 예외 처리 및 수동 입력 지원. | GPS좌표, 사진파일, 시간, 보고서ID                            | GPS 오류, 사진 미첨부/손상, 시간 불일치                     | 상       | 위치/시간 자동 기록 정확성, 사진 데이터 연동, 예외 발생 시 사용자 안내 및 수동 입력 지원, 데이터 무결성 검증.              | FR-6, FR-7, FR-8, FR-9, UC_WORKER_01,02,03,04                                                |
| FR-11  | 관리자용 대시보드 및 지도 기반 시각화 기능   | 역할별 관리자가 실시간 수거 현황, 쓰레기 분포, 작업자 활동 등을 지도 및 차트(Chart.js 등)로 시각화하여 조회 (필터 기능 포함).                                  | 지도데이터, 차트데이터, 필터조건                             | 지도 렌더링 지연/오류, 데이터 조회 실패, 필터 적용 오류       | 중       | 지도 렌더링 2초 이내, 필터별 데이터 정확성, 역할별 데이터 접근 범위 준수.                                                   | UC_ADMIN_02                                                                                  |
| FR-12  | 관리자용 통계/분석 데이터 조회 및 관리 기능  | 역할별 관리자가 웹에서 통계 차트, 회원/작업 현황 등을 조건별(기간/지역 등)로 조회하고 관리.                                                                       | 기간, 지역, 작업유형 등 필터조건, 통계데이터, 사용자 목록    | 대용량 데이터 조회 지연, 필터 오류, 데이터 부정확             | 상       | 1만 건 이상 데이터 10초 이내 조회, 필터/검색 조건 정확히 반영, 엑셀 다운로드 연동.                                         | UC_ADMIN_02, UC_ADMIN_01                                                                     |
| FR-13  | 통계/분석 데이터 엑셀 다운로드 기능        | 관리자가 조회된 통계/분석 데이터를 조건별(기간/구분 등) 엑셀 파일로 다운로드 (컬럼 선택 기능 포함).                                                              | 엑셀파일, 다운로드조건(기간/구분/컬럼)                       | 대용량 다운로드 실패, 포맷 오류, 데이터 누락                  | 상       | 다운로드 파일 포맷 100% 일치(내용/형식), 1만 건 이상 대용량 10초 이내 처리.                                               | UC_ADMIN_02, UC_ADMIN_02 (엑셀 다운로드 부분)                                                |
| FR-14  | 정보취약계층 접근성 지원 기능              | 시스템 사용자를 위해 큰글씨/고대비 모드 토글 기능 제공 (WCAG 2.1 AA 수준 준수 목표).                                                                           | 접근성 설정 상태                                             | UI 깨짐, 일부 기능 미적용, 호환성 문제                        | 중       | 스크린리더 호환성, 키보드 내비게이션 완전 지원, 명시된 WCAG 기준 충족.                                                       | UC_ACC_01, NFR-3                                                                             |
| FR-15  | 역할 기반 접근 제어 및 기능 분리           | PlatformAdmin, CityAdmin, DistrictAdmin, 조사자, 청소자, 수거자, 시민(자원봉사자) 역할별 메뉴/화면/데이터 접근 권한 차등 적용. 모든 접근 시도 로그 기록.      | 사용자 역할, 요청 리소스, 접근로그                           | 권한 없는 접근 시도, 잘못된 권한 부여, 로그 누락                | 상       | 정의된 역할-권한 매트릭스와 100% 일치하는 접근 제어, 모든 권한 관련 이벤트 로그 기록.                                       | FR-1, FR-3, UC_ADMIN_01, UC_SYS_01, NFR-2, "Beach-Saver 문서화 개요" (조직/권한 구조)      |
| FR-16  | 알림(Notifications) 기능                 | 주요 이벤트(계정 승인, 역할 변경, 업무 배정, 보고서 상태 변경, 긴급 공지 등) 발생 시 수신 대상에게 앱 푸시/SMS/이메일 등 채널로 실시간 자동/수동 알림 발송. 사용자별 알림 설정/구독 관리. | 알림유형, 수신자ID, 채널, 메시지내용, 알림이력                 | 알림 미수신/중복/실패, 잘못된 대상에게 발송, 재전송 오류        | 상       | 모든 정의된 트리거 조건에서 정확한 대상에게 지정된 채널로 알림 정상 발송 및 로그 기록, 사용자 알림 설정 기능.              | FR-5, "Beach-Saver 문서화 개요" (알림 정책), UC_SYS_02                                     |
| FR-17  | API 문서 자동화                            | Swagger/RestDocs 등 도구를 활용한 API 명세 자동 생성 및 최신화, 개발자 접근 용이성.                                                                         | API 소스코드, 빌드 프로세스, 생성된 API 문서                 | 문서 내용과 실제 API 불일치, 빌드 시 생성 실패, 접근 불가     | 중       | 빌드 프로세스 연동 자동 생성/배포, API 변경 시 문서 자동 업데이트 (또는 경고).                                               | N/A (개발 프로세스 관련), UC_SYS_DEV_01                                                      |
| FR-18  | **중복 보고 방지 및 Claim 관리 시스템 지원** | 시스템이 GPS/시간/이슈 유형 등으로 중복 보고를 자동 감지/안내/차단하고, 업무(조사/청소/수거)에 대한 담당자(Claim) 지정 및 이력 관리를 지원.                      | 보고서 데이터(GPS/시간/유형), Claim 상태, 담당자 정보       | 중복 판정 오류, Claim 상태 불일치, 담당자 지정 오류           | 상       | 정의된 기준에 따른 중복 보고 정확히 감지 및 안내/차단, Claim 상태(진행중, 완료 등) 정확히 반영, 담당자 이력 추적.       | "Beach-Saver 문서화 개요" (Claim 정책), FR-6, FR-7, FR-8, FR-9                               |
| FR-19  | AI 기반 데이터 분석 및 예측 기능           | 수집된 데이터를 기반으로 쓰레기 발생/수거량 추이 분석 및 예측, 예측 결과 기반 자원(인력/차량) 배치 제안, 주요 예측 결과 관리자 알림.                               | 과거데이터, 환경변수, 예측모델, 예측결과, 알림                 | 예측 모델 오류, 데이터 부족, 예측 정확도 저하, 알림 실패        | 하       | 예측 정확도 90% 이상(정의된 평가지표 기준), 관리자에게 유의미한 예측 결과 및 알림 제공.                                     | UC_ADMIN_03, FR-16 (알림 연동)                                                                 |
| FR-20  | 보고서 PDF 자동 생성 및 이메일 발송 기능     | 주요 보고서(조사/청소/수거종합 등) PDF 자동 생성, 또는 관리자가 특정 조건으로 생성하여 지정 수신자에게 이메일 자동 발송.                                       | 보고서 데이터, PDF 템플릿, 수신자 이메일, 발송 조건          | PDF 생성 오류, 첨부파일 유실, 이메일 발송 실패/스팸 처리        | 하       | 표준화된 PDF 포맷 준수, 이메일 발송 성공률 99% 이상, 첨부파일 유효성 및 내용 정확성.                                     | UC_ADMIN_REPORT_01                                                                           |
| FR-21  | 현장 사진 AI 자동 분류 및 품질 점수화 기능   | 작업자가 제출한 현장 사진 AI 기반 자동 분류(쓰레기 종류, 환경 등) 및 보고서 품질 점수화, 분석 결과 관리자 확인.                                                   | 사진 데이터, AI 모델, 분류 결과, 품질 점수                  | AI 모델 분류 오류, 점수 산정 로직 오류, 처리 지연              | 하       | AI 분류 정확도 90% 이상(정의된 평가지표 기준), 품질 점수 산정 규칙 준수, 관리자에게 유용한 분석 결과 제공.                 | UC_ADMIN_AI_PHOTO_01                                                                         |

---

- 각 기능별 상세 흐름, 관련된 특정 정책(예: 팀 처리, Claim, 알림 등)의 적용 방식, 상세 예외 처리, UI/UX 고려사항, 그리고 구체적인 테스트 시나리오는 "1-3 유스케이스 명세서"에서 각 유스케이스별로 상세화합니다.
- 본 문서의 FR들은 "1-2 요구사항 정의" 문서의 요구사항 ID와 직접적으로 매핑되거나, 해당 요구사항을 더 구체화/세분화한 것일 수 있습니다. (필요시 "1-2 요구사항 정의" 문서도 이 FR 목록에 맞춰 업데이트 고려)
- 모든 계정 정책, 권한 구조, 업무 배정 원칙, 알림 정책 등은 최상위 **"Beach-Saver 문서화 개요" (README.md)** 및 **"1-1 프로젝트 개요"**에 기술된 내용을 기준으로 하며, 본 기능명세는 해당 정책들이 시스템 기능으로 어떻게 구현되어야 하는지를 정의합니다.
- 실제 개발 및 설계 시, 이 표에 정의된 기능들을 기준으로 API 명세, DB 스키마, 화면 설계, 그리고 상세 테스트 케이스를 도출합니다.

---
