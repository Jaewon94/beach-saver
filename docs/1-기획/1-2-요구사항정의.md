# 1-2 요구사항 정의

## 1. 개요

- 본 문서는 Beach-Saver 프로젝트의 기능/비기능 요구사항, 우선순위, 제약사항, 이해관계자 요구를 실무/협업 기준으로 명확히 정의합니다.
- 모든 요구사항은 명확하고 측정 가능하게 작성하며, 변경 이력 및 의견은 하단에 기록합니다.
- 문서 간 상호 링크를 적극 활용하며, 실제 코드/운영과 불일치 시 즉시 업데이트합니다.
- **본 문서에서 간략히 기술된 정책, FAQ, 엣지케이스 등의 상세 내용은 최상위 "Beach-Saver 문서화 개요" (README.md 또는 해당 문서) 및 "1-1 프로젝트 개요"의 관련 정책 섹션을 우선적으로 참조합니다.**

---

## 2. 기능 요구사항(Functional Requirements)

| ID    | 요구사항 설명                                                                | 우선순위 | 수용 기준/비고                                                                                                                                                                                            | 버전 | 관련 문서/이슈                                                               |
| ----- | ---------------------------------------------------------------------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---- | ---------------------------------------------------------------------------- |
| FR-1  | **계정 생성, 인증, 권한 관리 및 감사 기능** | 상       | 역할별(Platform/City/DistrictAdmin, 조사자/청소자/수거자, 시민) 계정 생성(관리자 직접/엑셀, 시민 자가 가입) 및 라이프사이클 관리, 휴대폰+인증번호 로그인, 역할 선택, 모든 변경/접근 이력 감사 로그 기록. PII 안전 저장. | v2   | "Beach-Saver 문서화 개요" (계정 정책, FAQ), "1-1 프로젝트 개요 (10. 계정 정책)" |
| FR-2  | **시민(자원봉사자) 계정 승인 및 역할 전환 기능** | 상       | 시민 자가 가입 시 '임시 계정' 생성, CityAdmin 승인 시 '자원봉사자'에서 '청소자' 역할로 정식 전환, 승인 전 기능 제한, 모든 승인/전환 이력 기록. 조사자/수거자 역할 부여 불가.                                   | v2   | "Beach-Saver 문서화 개요" (계정 정책, 시민 관리), "1-1 프로젝트 개요 (10. 계정 정책)" |
| FR-3  | **관리자(City/District)의 작업자(정규/시민) 관리 기능** | 상       | 관할 작업자(조사자/청소자/수거자/승인된 시민 청소자) 등록(단일/엑셀)/수정/삭제, 업무 배정, 실적 확인. 구청별 작업자 관리 분리. 수거자 차량/업체 정보 검증.                                                   | v2   | UC-3, "Beach-Saver 문서화 개요" (관리 체계, 역할 정책)                         |
| FR-4  | **팀 단위 업무 처리 지원 기능** | 상       | 팀 생성/구성(팀장/팀원), 팀 단위 업무 배정, 팀 공동 보고서(청소) 작성 및 팀장 최종 확정, 팀원별 기여 첨부, 실적/보상 분배 근거 기록, 팀 변경/해체 이력 관리. 팀원 이의제기 경로.                            | v2   | "Beach-Saver 문서화 개요" (팀 단위 처리 정책)                                  |
| FR-5  | **정책 기반 업무 자동화 기능** | 중       | 정기/반복 업무(조사/청소/수거) 자동 배정 규칙 설정 및 실행, 자동 승인(예: 시민 자율 참여), 관리자 개입 최소화, 자동화 성공률 99.9% 이상, 모든 자동화 이력 기록.                                                | v2   | "Beach-Saver 문서화 개요" (자동화 원칙, 업무 배정 정책)                          |
| FR-6  | **작업자 보고서(조사/청소/수거용/수거완료) 작성 기능** | 상       | 역할별 보고서(조사, 청소, **수거용 보고서(청소자 작성-집하장 명시)**, **수거완료 처리(수거자)**) 작성, 필수 입력(날짜, 위치, 사진 등), GPS/사진 자동 기록, 임시저장, 오프라인 지원, 중복 보고 방지(Claim 정책). | v2   | UC-1, FR-7, "Beach-Saver 문서화 개요" (전체 업무 흐름)                       |
| FR-7  | **현장 데이터(GPS/사진) 자동 기록 및 관리 기능** | 상       | 보고서 작성 시 위치(GPS)/시간 자동 기록, 사진 첨부(필수/선택 정책 따름), 데이터 무결성 검증, GPS 오류/사진 미첨부 시 예외 처리 및 수동 입력 지원.                                                         | v2   | FR-6, UC-1                                                                   |
| FR-8  | **관리자용 대시보드 및 지도 기반 시각화 기능** | 중       | 실시간 수거 현황, 쓰레기 분포, 작업자 활동 등을 지도 및 차트(Chart.js 등)로 시각화, 다양한 필터(기간/지역/쓰레기 종류 등) 제공. 지도 렌더링 2초 이내, 데이터 정확성.                                     | v2   | UC-2                                                                         |
| FR-9  | **관리자용 통계/분석 데이터 조회 및 관리 기능** | 상       | 역할별(Platform/City/District) 통계/분석 데이터 조회, 필터/검색 기능, 1만 건 이상 데이터 10초 이내 조회, 회원/작업 현황 관리 연동.                                                                  | v2   | UC-2, UC-3                                                                   |
| FR-10 | **통계/분석 데이터 엑셀 다운로드 기능** | 상       | 조회된 통계/분석 데이터를 조건별(기간/구분 등) 엑셀 파일로 다운로드, 컬럼 선택 기능, 1만 건 이상 10초 이내 처리, 다운로드 파일 포맷 100% 일치.                                                           | v2   | UC-2, UC-4                                                                   |
| FR-11 | **정보취약계층 접근성 지원 기능** | 중       | 큰글씨/고대비 모드 토글 기능 제공, WCAG 2.1 AA 수준 준수 목표, 스크린리더 및 키보드 내비게이션 지원.                                                                                               | v2   | UC-5, NFR-3                                                                  |
| FR-12 | **역할 기반 접근 제어 및 기능 분리** | 상       | PlatformAdmin, CityAdmin, DistrictAdmin, 조사자, 청소자, 수거자, 시민(자원봉사자) 역할별 메뉴/화면/데이터 접근 권한 차등 적용, 모든 접근 시도 및 권한 관련 이벤트 로그 기록.                                  | v2   | FR-1, FR-3, UC-3, NFR-2, "Beach-Saver 문서화 개요" (조직/권한 구조)          |
| FR-13 | **알림(Notifications) 기능** | 상       | 계정 승인, 역할 변경, 업무 배정, 보고서 상태 변경, 긴급 공지 등 주요 이벤트 발생 시 수신 대상에게 앱 푸시/SMS/이메일 등 채널로 실시간 알림 발송, 사용자별 알림 설정/구독 관리, 모든 알림 이력 로그.          | v2   | "Beach-Saver 문서화 개요" (알림 정책)                                          |
| FR-14 | API 문서 자동화                                                                  | 중       | Swagger/RestDocs 등 도구를 활용한 API 명세 자동 생성 및 최신화, 개발자 접근 용이성. 빌드 시 자동 생성/배포.                                                                                        | v2   | N/A (개발 프로세스 관련)                                                       |
| FR-15 | AI 기반 데이터 분석 및 예측 기능 (자원 배치/수거량 예측)                               | 하       | 수집된 데이터를 기반으로 쓰레기 발생/수거량 추이 분석 및 예측(정확도 90% 이상 목표), 예측 결과 기반 자원(인력/차량) 배치 제안, 주요 예측 결과 관리자 알림.                                                    | v2   | UC-6 (관리자, AI 예측 결과 조회)                                               |
| FR-16 | 보고서 PDF 자동 생성 및 이메일 발송 기능                                             | 하       | 주요 보고서(조사/청소/수거종합 등) PDF 자동 생성, 지정 수신자에게 이메일 자동 발송(성공률 99% 이상 목표), PDF 포맷 표준화, 첨부파일 유효성.                                                               | v2   | UC-7 (관리자, PDF 보고서 이메일 발송)                                          |
| FR-17 | 현장 사진 AI 자동 분류 및 품질 점수화 기능                                           | 하       | 작업자가 제출한 현장 사진 AI 기반 자동 분류(쓰레기 종류, 환경 등) 및 보고서 품질 점수화(정확도 90% 이상 목표), 분석 결과 관리자 확인.                                                                      | v2   | UC-8 (관리자, AI 사진 분류 결과 확인)                                          |
| ...   | (예: 실시간 채팅/문의, 외부 시스템 연동 인터페이스 등)                               | ...      | 각 기능별 테스트 시나리오, 정량적 목표, 완료 조건 명확히 작성                                                                                                                                   | ...  | ...                                                                          |

---

## 3. 비기능 요구사항(Non-Functional Requirements)

| ID     | 요구사항 설명                                  | 우선순위 | 수용 기준/비고                                                                                                                                    | 버전 | 관련 문서/이슈                                                           |
| ------ | ---------------------------------------------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------- | ---- | ------------------------------------------------------------------------ |
| NFR-1  | **배포 표준화 (Docker 컨테이너)** | 상       | 모든 서비스(백엔드/프론트엔드) Docker 컨테이너 배포, 환경별(dev/prod) 동일 이미지 사용, CI/CD 파이프라인 통한 배포 자동화. 테스트: dev/prod 환경 배포 자동화.         | v2   | "Beach-Saver 문서화 개요" (배포/운영 전략)                               |
| NFR-2  | **보안 (인증/인가, 데이터 보호)** | 상       | 역할 기반 접근 제어(RBAC), JWT/OAuth2 등 표준 인증 적용, 주요 데이터(개인정보 등) AES256 암호화, OWASP Top 10 보안 취약점 점검 통과, 2FA 옵션 제공. 테스트: 보안 점검 리포트. | v2   | FR-1, FR-12                                                              |
| NFR-3  | **사용성 및 접근성** | 중       | IT 미숙련자 및 고령 사용자를 고려한 직관적 UI/UX, 쉬운 안내/오류 메시지 제공, WCAG 2.1 AA 수준 준수, 접근성(큰글씨/고대비 모드 등) 테스트 자동화. 테스트: Lighthouse/axe 리포트. | v2   | FR-11, "Beach-Saver 문서화 개요" (관리자/작업자 UX 흐름)                  |
| NFR-4  | **API 문서 관리 (자동화 및 최신화)** | 중       | RestDocs/Swagger 등 활용 API 문서 자동 생성 및 빌드 시 최신화 보장. 개발자 대상 공유 및 접근 용이성. 테스트: 문서 자동화 스크립트 실행 및 결과 확인.                    | v2   | FR-14                                                                    |
| NFR-5  | **테스트 자동화 및 품질 관리** | 중       | TDD 원칙 적용, 단위/통합/E2E 테스트 자동화, 코드 커버리지 80% 이상 목표, PR 시 자동 테스트 수행. 테스트: 커버리지 리포트, 자동화 테스트 결과.                          | v2   | "Beach-Saver 문서화 개요" (프로젝트 진행 방식)                             |
| NFR-6  | **환경 설정 관리 (분리 및 보안)** | 중       | 개발/운영 등 환경별 설정 파일(.yml 등) 분리, 민감 정보(API 키, DB 접속정보 등) 환경변수 또는 Vault 등 외부 시스템 통해 안전하게 관리. 테스트: 환경별 변수 적용 여부.           | v2   | "Beach-Saver 문서화 개요" (배포/운영 전략)                               |
| NFR-7  | **시스템 운영 및 모니터링 (자동화 및 안정성)** | 중       | 주요 서비스/인프라 상태 실시간 모니터링 대시보드 구축, 주요 지표(API 응답시간, CPU/메모리 사용률 등) 임계치 기반 자동 알림. 주요 API 평균 응답 500ms 이하, 장애 발생 시 5분 내 알림, 월간 가용성 99.9% 이상 목표. 테스트: 모니터링 리포트. | v2   | "Beach-Saver 문서화 개요" (운영/모니터링)                                |
| NFR-8  | **국제화(i18n) 및 현지화(L10n) 지원 구조** | 하       | 향후 다국어 지원을 위한 리소스(텍스트, 이미지 등) 분리 구조 설계, UI/데이터 포맷 현지화 가능성 고려. 테스트: 샘플 언어(예: 영어) 화면 및 리소스 적용 확인.                   | v2   | "Beach-Saver 문서화 개요" (추가/보완 제안)                               |
| NFR-9  | **성능 및 부하 처리** | 중       | 일반 작업자 동시 접속자 1,000명 수준에서 주요 기능(보고서 제출, 조회 등) 1초 이내 응답. 관리자 대시보드/통계 조회 시 1만 건 이상 데이터 10초 이내 처리. 일일 보고서 배치 처리 10만 건 5분 이내 완료. 테스트: 부하 테스트 결과 리포트. | v2   | FR-9, FR-10                                                              |
| NFR-10 | **확장성 및 유지보수성** | 중       | 서비스 인스턴스 수평 확장(Scale-out) 용이한 아키텍처, 신규 기능 추가/변경 시 기존 시스템 영향 최소화(느슨한 결합), 모듈화된 코드 구조. 테스트: 신규 기능 배포 후 기존 기능 영향도 분석. | v2   | "Beach-Saver 문서화 개요" (프로젝트 진행 방식)                             |
| NFR-11 | **데이터 보관 및 백업/복구 정책** | 중       | 주요 데이터(사용자, 보고서, 로그 등) 정기 백업(일별/주별) 및 특정 시점 복구 가능, 데이터 보관 주기(예: 로그 1년, 원본 데이터 5년 등) 정책 정의 및 준수. (상세 정책은 별도 수립) | v2   |                                                                          |
| ...    | (예: 모바일 앱 호환성, 브라우저 호환성 등)             | ...      | ...                                                                                                                                             | ...  | ...                                                                      |

---

## 4. 제약사항/특이사항

본 프로젝트를 진행하는 데 있어 다음과 같은 제약사항 및 특이사항을 반드시 고려하고 준수해야 합니다. (상세 내용은 최상위 "Beach-Saver 문서화 개요" 및 "1-1 프로젝트 개요"의 해당 정책 섹션 참조)

1. **개발 플랫폼 및 기술 스택:**
    - 관리자 웹: Next.js 기반 개발.
    - 작업자 모바일 앱: React Native 기반 개발.
    - 백엔드: Java/Kotlin, Spring Boot, JPA 활용.
    - 데이터베이스: RDS (MySQL 호환) 표준.
    - PWA(Progressive Web App)는 현 단계에서 도입하지 않음 (역할별 앱/웹 완전 분리 원칙).
2. **사용자 계정 및 인증 정책:**
    - 모든 사용자는 정의된 역할(PlatformAdmin, CityAdmin, DistrictAdmin, 조사자, 청소자, 수거자, 시민) 중 하나 이상을 가짐.
    - 작업자(조사자/청소자/수거자) 계정은 원칙적으로 관리자(시청/구청)가 생성 (단일/엑셀 대량 등록 지원). 수거자는 차량/업체 정보 검증 필수.
    - 시민(자원봉사자)은 자가 가입 후 CityAdmin 승인을 통해 '청소자' 역할로만 활동 가능 (조사자/수거자 불가).
    - **한 사람이 여러 작업자 역할을 수행하려면, 각 역할별 별도 계정으로 로그인해야 함 (통합 계정/UI상 역할 전환 미지원).**
    - ID(계정명)는 `[구분코드]_[닉네임]_[역할]_[고유번호]` 형식으로 시스템 자동 생성 (PII 미포함), ID 변경 불가 (닉네임만 변경 가능).
    - **로그인 방식:** 일반 작업자/시민은 "휴대폰 번호 + 인증번호(문자/음성)" 사용. 동일 번호 다중 역할 시 역할 선택 UI 제공. 관리자 등 특수 계정은 ID/PW (+2FA 옵션) 직접 입력 예외 허용.
3. **운영 및 배포 환경:**
    - 모든 서비스는 Docker 컨테이너로 실행 (환경별 동일 이미지 사용).
    - 배포 환경은 AWS ECS/Fargate 표준 (초기 저비용 VPS 등에서 운영 후 AWS 이전 가능).
    - 환경별 설정(.yml, .env 등) 분리 및 CI/CD 자동화.
4. **조직 및 데이터 관리:**
    - PlatformAdmin → CityAdmin → DistrictAdmin → Worker로 이어지는 행정 위계 구조 준수.
    - 조직(시청/구청) 간 데이터/계정/로그는 원칙적으로 절대 분리 (보안/감사 목적). PlatformAdmin은 전국 확장 초기 정책에 따라 접근 범위 조정.
5. **업무 흐름 및 핵심 정책:**
    - 조사→청소(팀)→수거용 보고서(청소자 작성)→수거 완료(수거자 처리)의 명확한 업무 흐름 준수.
    - 팀 단위 처리, 중복 보고 방지(Claim), 자동화 우선 원칙 등 주요 운영 정책 준수.
6. **기타 실무 방침:**
    - 코드리뷰/PR 규칙, 보안/인증 강화, 접근성(WCAG 2.1 AA 목표), 국제화(i18n) 구조 고려, 모노레포/멀티레포 전략, 운영/모니터링 체계 등 적용.

---

## 5. 이해관계자 요구/의견(요약)

| 이해관계자               | 요구/의견 요약 (최신 역할 체계 반영)                                                                  |
| ------------------------ | --------------------------------------------------------------------------------------------------- |
| PlatformAdmin (플랫폼 운영사) | 전국 단위 플랫폼 안정적 운영, 표준화된 데이터 기반 정책 수립 지원, 서비스 확장 및 고도화 요구.                 |
| CityAdmin (시청 관리자)    | 관할 지역(시 전체) 해양 쓰레기 현황 통합 관리 및 분석, 예산/자원 배분 효율화, 구청별 실적 관리, 시민 참여 독려. |
| DistrictAdmin (구청 관리자)  | 관할 구역 작업자(정규/시민) 효율적 관리 및 업무 배정, 실시간 현장 상황 파악 및 신속 대응, 정확한 실적 보고.  |
| 작업자 (조사자/청소자/수거자)  | 쉽고 빠른 모바일 업무 보고, 명확한 업무 지시 및 피드백, 공정한 실적 인정, 안전한 작업 환경 지원.         |
| 자원봉사자(시민)         | 간편한 참여 신청 및 활동 확인, 봉사 시간/실적 정확한 기록, 환경 보호 기여에 대한 보람.                     |
| 정책 담당자 (정부/지자체)    | 신뢰할 수 있는 데이터 기반의 과학적 정책 수립 및 효과 측정, 해양 환경 문제 해결을 위한 객관적 근거 자료.     |
| 외부 협력 기관 (연구소 등)   | 표준화된 형식의 해양 환경 데이터 공유 및 접근, 공동 연구 및 기술 개발 협력.                               |

---

## 6. 변경 이력

| 버전 | 일자       | 작성자 | 변경 내용                                                                                                |
| ---- | ---------- | ------ | -------------------------------------------------------------------------------------------------------- |
| v2   | 2024-06-XX | 홍길동 | 최초 작성                                                                                                |
| v2.1 | 2024-06-XX | 홍길동 | 요구사항 상세/수용 기준/관련 문서 추가                                                                   |
| v2.2 | 2024-06-03 | 홍길동 | "Beach-Saver 문서화 개요" 최신 정책 반영 (FR 추가/재정렬, NFR 상세화, 제약사항/이해관계자 업데이트 등)   |
